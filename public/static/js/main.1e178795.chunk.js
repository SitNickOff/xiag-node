(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{45:function(e,t,n){e.exports=n(63)},58:function(e,t,n){},59:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(30),s=n.n(l),c=n(12),o=n(15),i=n(19),u=n(39),m=n.n(u),d=n(40),p=n(41),h=n.n(p),E=n(29),f=n(20),v="QUESTION_CREATE";var b="QUESTION_UPDATE";var g="QUESTIONS_ADD_RESPONSE";var w=[{_id:1,content:"\u0412\u044b \u0443\u043c\u043d\u044b\u0439?",answers:["\u0414\u0430","\u041d\u0435\u0442"],author:"\u0421\u0438\u0442\u043d\u0438\u043a\u043e\u0432 \u0410.",respondentsAnswers:[{respondent:"\u0421\u0438\u0442\u043d\u0438\u043a\u043e\u0432 \u0410.",answer:"\u0414\u0430"}]},{_id:2,content:"\u041d\u0430 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0412\u044b \u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0439?",answers:["\u0421\u0430\u043c\u044b\u0439 \u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0439","\u041e\u0447\u0435\u043d\u044c \u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0439","\u0421\u0438\u043c\u043f\u0430\u0442\u0438\u0447\u043d\u044b\u0439"],author:"\u0421\u0438\u0442\u043d\u0438\u043a\u043e\u0432 \u0410.",respondentsAnswers:[]}];var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return[].concat(Object(f.a)(e),[Object(E.a)({},t.question,{_id:e.length+1})]);case b:return e.map(function(e){return e._id===t.question._id?t.question:e});case g:return e.map(function(e){return e._id===t.questionId?Object(E.a)({},e,{respondentsAnswers:[].concat(Object(f.a)(e.respondentsAnswers),[t.resp])}):e});default:return e}},_="USER_ADD";var N={name:""};var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(E.a)({},e,{name:t.userName});default:return e}},O=Object(i.c)({questions:y,user:q});var j,k;j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"state";try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(n){return}}();var x=Object(i.d)(O,j,Object(i.a)(m.a,d.a,function(e){return function(t){return function(n){var a=t(n);try{var r=JSON.stringify(k?e.getState()[k]:e.getState());localStorage.setItem(k||"state",r)}catch(l){console.error(l)}return a}}},h.a)),A=(n(58),n(59),n(17)),C=n(42);var S=function(e){var t=e.children,n=Object(C.a)(e,["children"]);return r.a.createElement(c.b,Object.assign({activeClassName:"button--active"},n),t)},R=n(73),Q=Object(R.a)(function(e){return{root:{display:"flex",width:360},link:{margin:"0 8px"}}})(function(e){var t=e.classes;return r.a.createElement("nav",{className:t.root},r.a.createElement(S,{to:"/",className:"mdc-tab"},"Poll"),r.a.createElement("a",{className:t.link,href:"https://test-task.xiag.ch/fullstack-developer.html",target:"_blank",rel:"noopener noreferrer"},"Task"))}),I=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page__header"},r.a.createElement("div",{className:"page__logo"},r.a.createElement("a",{href:"https://www.xiag.ch",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://test-task.xiag.ch/images/page-logo.png",alt:"XIAG AG"}))),r.a.createElement(Q,null)),r.a.createElement("div",{className:"page__image"},r.a.createElement("div",{className:"page__task-title"},"Poll website task")))},B=n(32),D=n.n(B),T=function(e){return r.a.createElement("div",{className:D()("page__content","page__content--padding")},e.children)},U=function(e){var t=e.questions,n=e.history;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",marginBottom:16}},r.a.createElement("h2",{style:{marginRight:"auto"}},"Question List"),r.a.createElement("div",{className:"ex2-question__submit"},r.a.createElement("button",{className:"btn",onClick:function(){return n.push("/poll/create")}},"Add Question"))),r.a.createElement("table",{className:"ex2-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Number"),r.a.createElement("th",null,"Question"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,t.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.content),r.a.createElement("td",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(S,{to:"/poll/".concat(e._id)},"View"),r.a.createElement(S,{to:"/poll/".concat(e._id,"/edit")},"Edit"),r.a.createElement(S,{to:"/poll/".concat(e._id,"/delete")},"Delete")))}))))};var F=Object(o.b)(function(e){return{questions:e.questions}},function(e){return{}})(U),J=Object(A.f)(F),P=function(e){return r.a.createElement("div",{className:"poll"},r.a.createElement(J,null))},M=n(23),G=n(10),W=n(26),X=n(24),L=n(25),V=function(e){function t(){var e,n;Object(M.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(W.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={respondent:n.props.user.name,answer:"",isMine:!0},n.handleChangeResponden=function(e){n.setState({respondent:e.target.value})},n.handleSelectAnswer=function(e){n.setState({answer:e.target.value})},n.handleSendResponse=function(){""!==n.state.respondent&&""!==n.state.answer?(n.props.userAdd(n.state.respondent),n.props.addResponse(n.props.question._id,n.state)):console.log("alert: fill all fields")},n}return Object(L.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this,t=this.props.question;return r.a.createElement("div",{className:"ex2-question"},r.a.createElement("div",{className:"ex2-question__label"},"Your name:"),r.a.createElement("div",{className:"ex2-question__input"},r.a.createElement("input",{type:"text",className:"input-text",value:this.state.respondent,onChange:this.handleChangeResponden,placeholder:"insert your name"})),r.a.createElement("div",{className:"ex2-question__answer",style:{display:"flex",flexDirection:"column"}},t.answers.map(function(t,n){return r.a.createElement("label",{key:n},r.a.createElement("input",{type:"radio",name:"do-we-go",value:t,onChange:e.handleSelectAnswer}),t)})),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{className:"ex2-question__submit"},r.a.createElement("input",{type:"submit",className:"btn",value:"Submit",onClick:this.handleSendResponse}))))}}]),t}(r.a.Component),Y=function(e){var t=e.question;e.user;return r.a.createElement("div",null,r.a.createElement("h3",null,"Results"),r.a.createElement("table",{className:"ex2-table",style:{marginTop:16}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),t.answers.map(function(e,t){return r.a.createElement("th",{key:t},e)}))),r.a.createElement("tbody",null,t.respondentsAnswers.map(function(e,n){return r.a.createElement("tr",{key:n,style:{background:e.isMine?"rgb(248, 155, 28, .2)":"inherit"}},r.a.createElement("td",null,e.respondent),t.answers.map(function(t,n){return r.a.createElement("td",{key:n},t===e.answer?"X":"")}))}))))},$=function(e){function t(){return Object(M.a)(this,t),Object(W.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.question,n=e.history,a=e.addResponse,l=e.userAdd,s=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("h2",{style:{marginRight:"auto"}},t.content),r.a.createElement("div",{className:"ex2-question__submit"},r.a.createElement("button",{className:"btn",onClick:n.goBack},"Back"))),void 0===t.respondentsAnswers.find(function(e){return e.isMine})&&r.a.createElement(V,{question:t,user:s,addResponse:a,userAdd:l}),r.a.createElement(Y,{question:t,user:s}))}}]),t}(r.a.Component);var z=Object(o.b)(function(e,t){return{question:e.questions.find(function(e){return+e._id===+t.match.params.id}),user:e.user}},function(e){return{addResponse:function(t,n){return e(function(e,t){return function(n){n({type:g,questionId:e,resp:t})}}(t,n))},userAdd:function(t){return e(function(e){return function(t){t({type:_,userName:e})}}(t))}}})($),H=Object(A.f)(z),K=function(){return r.a.createElement("div",{className:"poll"},r.a.createElement(H,null))},Z=function(e){function t(){var e,n;Object(M.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(W.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={_id:n.props.question?n.props.question._id:0,content:n.props.question?n.props.question.content:"",answers:n.props.question?n.props.question.answers:["",""],respondentsAnswers:n.props.question?n.props.question.respondentsAnswers:[]},n.handleChangeContent=function(e){n.setState({content:e.target.value})},n.handleAddAnswer=function(){n.setState({answers:[].concat(Object(f.a)(n.state.answers),[""])})},n.handleChangeAnswer=function(e){return function(t){n.setState({answers:n.state.answers.map(function(n,a){return a===e?t.target.value:n})})}},n.addQuestionChanges=function(){var e=!0;""===n.state.content&&(e=!1),n.state.answers.forEach(function(t){""===t&&(e=!1)}),e?(0===n.state._id?n.props.questionCreate(n.state):n.props.questionUpdate(n.state),n.props.history.push("/poll")):console.log("alert: fill all fields")},n}return Object(L.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this,t=this.props.history,n=this.state;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",marginBottom:16}},r.a.createElement("h2",{style:{marginRight:"auto"}},n?"Edit Question":"New Question"),r.a.createElement("div",{className:"ex2-question__submit"},r.a.createElement("button",{className:"btn",onClick:t.goBack},"Back"))),r.a.createElement("table",{className:"poll-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Question:"),r.a.createElement("th",null,r.a.createElement("input",{type:"text",value:n?n.content:"",className:"input-text",placeholder:"Insert question",onChange:this.handleChangeContent})))),r.a.createElement("tbody",null,n.answers.map(function(t,n){return r.a.createElement("tr",{key:n},r.a.createElement("th",null,"Answer ".concat(n+1,":")),r.a.createElement("td",null,r.a.createElement("input",{type:"text",value:t,placeholder:"Enter option",onChange:e.handleChangeAnswer(n),className:"input-text"})))}),r.a.createElement("tr",null,r.a.createElement("td",{className:"poll-table__plus"},r.a.createElement("button",{className:D()("btn","btn--plus"),onClick:this.handleAddAnswer},"+")),r.a.createElement("td",null," ")))),r.a.createElement("button",{className:"btn btn--start",onClick:this.addQuestionChanges},"Start"))}}]),t}(r.a.Component);var ee=Object(o.b)(function(e,t){return{question:e.questions.find(function(e){return+e._id===+t.match.params.id})}},function(e){return{questionCreate:function(t){return e(function(e){return function(t){t({type:v,question:e})}}(t))},questionUpdate:function(t){return e(function(e){return function(t){t({type:b,question:e})}}(t))}}})(Z),te=Object(A.f)(ee),ne=function(){return r.a.createElement("div",{className:"poll"},r.a.createElement(te,null))},ae=function(){return r.a.createElement("h1",null,"NotFound")},re=function(e){return r.a.createElement("div",{className:"page"},r.a.createElement(I,null),r.a.createElement(T,null,r.a.createElement(A.c,null,r.a.createElement(A.a,{exact:!0,path:"/",component:P}),r.a.createElement(A.a,Object.assign({exact:!0,path:"/poll",component:P},e)),r.a.createElement(A.a,{exact:!0,path:"/poll/create",component:ne,new:!0}),r.a.createElement(A.a,{exact:!0,path:"/poll/:id",component:K}),r.a.createElement(A.a,{exact:!0,path:"/poll/:id/edit",component:ne,new:!0}),r.a.createElement(A.a,{component:ae}))))};var le=function(){return r.a.createElement(re,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(o.a,{store:x},r.a.createElement(c.a,null,r.a.createElement(le,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[45,1,2]]]);
//# sourceMappingURL=main.1e178795.chunk.js.map